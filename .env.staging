# Staging Environment Configuration
# Copy of .env for local staging testing

# ═══════════════════════════════════════════════════════════
# STAGING ENVIRONMENT
# ═══════════════════════════════════════════════════════════

NODE_ENV=staging

# ═══════════════════════════════════════════════════════════
# DOCKER COMPOSE CONFIGURATION
# ═══════════════════════════════════════════════════════════

COMPOSE_PROJECT_NAME=staging_losricos

# ═══════════════════════════════════════════════════════════
# PORT CONFIGURATION (Different from production to avoid conflicts)
# ═══════════════════════════════════════════════════════════

NGINX_HOST_PORT=8081
BACKEND_PORT=5002
POSTGRES_HOST_PORT=5433
PGADMIN_HOST_PORT=5051
TRAEFIK_PORT=8080
TRAEFIK_API_PORT=8082

# ═══════════════════════════════════════════════════════════
# REACT APP CONFIGURATION
# ═══════════════════════════════════════════════════════════

REACT_APP_NODE_VERSION=20-alpine
REACT_APP_API_URL=http://localhost:5002

# ═══════════════════════════════════════════════════════════
# NGINX CONFIGURATION
# ═══════════════════════════════════════════════════════════

NGINX_VERSION=alpine
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024
NGINX_PORT=80

# ═══════════════════════════════════════════════════════════
# POSTGRESQL CONFIGURATION
# ═══════════════════════════════════════════════════════════

POSTGRES_VERSION=16-alpine
POSTGRES_USER=staging_admin
POSTGRES_PASSWORD=Staging_LR_db_P@ssw0rd_2024!
POSTGRES_DB=staging_losricos_tacos
POSTGRES_PORT=5432

# ═══════════════════════════════════════════════════════════
# PGADMIN CONFIGURATION
# ═══════════════════════════════════════════════════════════

PGADMIN_VERSION=latest
PGADMIN_DEFAULT_EMAIL=admin@staging.losricostacos.com
PGADMIN_DEFAULT_PASSWORD=Staging_PgAdmin_2024!
PGADMIN_PORT=80

# ═══════════════════════════════════════════════════════════
# TRAEFIK CONFIGURATION
# ═══════════════════════════════════════════════════════════

TRAEFIK_VERSION=v3.0
TRAEFIK_LOG_LEVEL=INFO
TRAEFIK_API_ENTRYPOINT=traefik
TRAEFIK_DOCKER_NETWORK=staging_losricos_network
TRAEFIK_EXPOSED_BY_DEFAULT=false
TRAEFIK_CERT_EMAIL=staging@losricostacos.com

# Network
NETWORK_NAME=staging_losricos_network

# ═══════════════════════════════════════════════════════════
# BACKEND API CONFIGURATION
# ═══════════════════════════════════════════════════════════

BACKEND_NODE_VERSION=20-alpine
BACKEND_PORT_INTERNAL=5001

# Database connection
DB_HOST=postgres
DB_PORT=5432
DB_USER=staging_admin
DB_PASS=Staging_LR_db_P@ssw0rd_2024!
DB_NAME=staging_losricos_tacos

# JWT Configuration (STAGING - different from production)
JWT_SECRET=staging_7d373ccbfecefcd1cb12e2121a53e22872d812800183b890fec4bb5038e3218434ba7c301fe1c0e3f65bc21f80756f589637b750ec0d1f94cbb63a2c2319ac39
JWT_EXPIRES_IN=7d
JWT_EXPIRE=7d

# Email Configuration (same as production but marked as staging)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM="Los Ricos Tacos Staging <your-email@gmail.com>"

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS
CORS_ORIGIN=http://localhost:8081

# Session
SESSION_SECRET=staging_session_secret_change_in_production

# ═══════════════════════════════════════════════════════════
# FRONTEND CONFIGURATION
# ═══════════════════════════════════════════════════════════

WEBSITE_DOMAIN=localhost
FRONTEND_URL=http://localhost:8081

# ═══════════════════════════════════════════════════════════
# MONITORING (Optional for staging)
# ═══════════════════════════════════════════════════════════

# Sentry (use same DSN but different environment)
SENTRY_DSN=
SENTRY_ENVIRONMENT=staging
SENTRY_TRACES_SAMPLE_RATE=0.1

# ═══════════════════════════════════════════════════════════
# DIGITAL OCEAN (Not used in local staging)
# ═══════════════════════════════════════════════════════════

DO_API_TOKEN=
DO_SPACES_KEY=
DO_SPACES_SECRET=
DO_SPACES_ENDPOINT=
DO_SPACES_BUCKET=
